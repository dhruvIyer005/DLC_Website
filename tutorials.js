class TutorialManager {
  constructor() {
    this.tutorials = {
      "whatsapp-photos": {
        title: "How to Send Photos on WhatsApp",
        content: `
          <div class="tutorial-steps">
            <h3>Step-by-Step Guide</h3>
            <div class="step">
              <div class="step-number">1</div>
              <div class="step-content">
                <h4>Open WhatsApp</h4>
                <p>Find the WhatsApp icon on your phone and tap it to open the app.</p>
                <img src="https://www.freeiconspng.com/uploads/whatsapp-icon-png-13.png">
              </div>
            </div>
            <div class="step">
              <div class="step-number">2</div>
              <div class="step-content">
                <h4>Select a Chat</h4>
                <p>Choose the person or group you want to send the photo to by tapping on their name.</p>
                <img src="https://cdn6.aptoide.com/imgs/8/5/d/85d5332095492e211bf816e19ad30458_screen.png">
              </div>
            </div>
            <div class="step">
              <div class="step-number">3</div>
              <div class="step-content">
                <h4>Tap the Attachment Icon</h4>
                <p>Look for the ðŸ“Ž (paperclip) icon at the bottom of the screen and tap it.</p>
                
              </div>
            </div>
            <div class="step">
              <div class="step-number">4</div>
              <div class="step-content">
                <h4>Choose Photo Source</h4>
                <p>Select either:</p>
                <ul>
                  <li><strong>Camera</strong> - to take a new photo</li>
                  <li><strong>Gallery</strong> - to choose an existing photo</li>
                </ul>
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRVabvGPLt9zGWZCSmKLXYq11_NBB_BcUpkeg&s">
              </div>
            </div>
            <div class="step">
              <div class="step-number">5</div>
              <div class="step-content">
                <h4>Select and Send</h4>
                <p>Choose your photo, add a caption if you want, then tap the Send button âž¤</p>
                
              </div>
            </div>
          </div>
          <div class="tutorial-tips">
            <h3>ðŸ’¡ Pro Tips</h3>
            <ul>
              <li>You can send multiple photos at once by selecting them</li>
              <li>Add captions to explain what the photo is about</li>
              <li>Photos are automatically compressed to save data</li>
            </ul>
          </div>
        `,
      },
      "whatsapp-video": {
        title: "Making Video Calls on WhatsApp",
        content: `
          <div class="tutorial-steps">
            <h3>Step-by-Step Guide</h3>
            <div class="step">
              <div class="step-number">1</div>
              <div class="step-content">
                <h4>Open WhatsApp Chat</h4>
                <p>Open WhatsApp and go to the chat with the person you want to call.</p>
                <img src="https://cdn6.aptoide.com/imgs/8/5/d/85d5332095492e211bf816e19ad30458_screen.png">
              </div>
            </div>
            <div class="step">
              <div class="step-number">2</div>
              <div class="step-content">
                <h4>Tap Video Call Icon</h4>
                <p>Look for the ðŸ“¹ video camera icon at the top right of the chat and tap it.</p>
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSrJ8JyKtNHs-ENbD4wmk-V-mZMjuM5Nls9gQ&s">
              </div>
            </div>
            <div class="step">
              <div class="step-number">3</div>
              <div class="step-content">
                <h4>Wait for Connection</h4>
                <p>Wait for the other person to answer your call. You'll see "Calling..." on the screen.</p>
               
              </div>
            </div>
            <div class="step">
              <div class="step-number">4</div>
              <div class="step-content">
                <h4>Enjoy Your Call</h4>
                <p>Once connected, you can see and talk to each other. Use the buttons to:</p>
                <ul>
                  <li>ðŸ”‡ Mute/unmute your microphone</li>
                  <li>ðŸ“¹ Turn camera on/off</li>
                  <li>ðŸ”„ Switch between front and back camera</li>
                  <li>ðŸ“ž End the call</li>
                </ul>
                <img src="https://i.gadgets360cdn.com/large/WhatsApp_video_calling_1479375497067.jpeg">
              </div>
            </div>
          </div>
          <div class="tutorial-tips">
            <h3>ðŸ’¡ Pro Tips</h3>
            <ul>
              <li>Make sure you have a good internet connection</li>
              <li>Use WiFi for better call quality</li>
              <li>Find good lighting for clearer video</li>
              <li>You can also make group video calls with up to 8 people</li>
            </ul>
          </div>
        `,
      },
      "whatsapp-groups": {
        title: "Creating Groups on WhatsApp",
        content: `
          <div class="tutorial-steps">
            <h3>Step-by-Step Guide</h3>
            <div class="step">
              <div class="step-number">1</div>
              <div class="step-content">
                <h4>Open WhatsApp</h4>
                <p>Launch the WhatsApp application on your phone.</p>
                <img src="https://www.freeiconspng.com/uploads/whatsapp-icon-png-13.png">
              </div>
            </div>
            <div class="step">
              <div class="step-number">2</div>
              <div class="step-content">
                <h4>Tap the Menu</h4>
                <p>Tap the three dots at the top right corner (Android) or bottom right (iOS).</p>
                <img src="https://icon-library.com/images/android-three-dots-icon/android-three-dots-icon-7.jpg">
              </div>
            </div>
            <div class="step">
              <div class="step-number">3</div>
              <div class="step-content">
                <h4>Select New Group</h4>
                <p>Choose "New group" from the menu options.</p>
                
              </div>
            </div>
            <div class="step">
              <div class="step-number">4</div>
              <div class="step-content">
                <h4>Add Participants</h4>
                <p>Select contacts you want to add to the group, then tap the green arrow.</p>
                <img src="https://s3.ap-south-1.amazonaws.com/asset.chatbot/post/23334/tuts/web/4.webp">
              </div>
            </div>
            <div class="step">
              <div class="step-number">5</div>
              <div class="step-content">
                <h4>Name Your Group</h4>
                <p>Enter a group name and optionally add a group icon, then tap "Create".</p>
               
              </div>
            </div>
          </div>
          <div class="tutorial-tips">
            <h3>ðŸ’¡ Group Management Tips</h3>
            <ul>
              <li>You can add up to 256 participants in a group</li>
              <li>As admin, you can remove participants or add more admins</li>
              <li>Use group descriptions to explain the group's purpose</li>
              <li>Mute groups that are too active</li>
            </ul>
          </div>
        `,
      },
      "paytm-send-money": {
        title: "How to Send Money via Paytm",
        content: `
          <div class="tutorial-steps">
            <h3>Step-by-Step Guide</h3>
            <div class="step">
              <div class="step-number">1</div>
              <div class="step-content">
                <h4>Open Paytm App</h4>
                <p>Find and tap the Paytm app icon on your phone to open it.</p>
                <img src="https://seeklogo.com/images/P/paytm-logo-092D33ED90-seeklogo.com.png">
              </div>
            </div>
            <div class="step">
              <div class="step-number">2</div>
              <div class="step-content">
                <h4>Tap 'Send Money'</h4>
                <p>On the home screen, look for and tap the "Send Money" or "To Contact" option.</p>
                <img src="https://outingplan.com/pics/Payment%201.png">
              </div>
            </div>
            <div class="step">
              <div class="step-number">3</div>
              <div class="step-content">
                <h4>Enter Recipient Details</h4>
                <p>Enter the mobile number of the person you want to send money to, or scan their QR code.</p>
                
              </div>
            </div>
            <div class="step">
              <div class="step-number">4</div>
              <div class="step-content">
                <h4>Enter Amount</h4>
                <p>Type the amount you want to send and add a message if needed (optional).</p>
                <img src="https://qph.cf2.quoracdn.net/main-qimg-4f7c9a1ffe83887733e8878ad2f2f59c-pjlq">
              </div>
            </div>
            <div class="step">
              <div class="step-number">5</div>
              <div class="step-content">
                <h4>Confirm with PIN</h4>
                <p>Enter your 4-digit Paytm PIN to confirm and complete the transaction.</p>
               
              </div>
            </div>
          </div>
          <div class="tutorial-tips">
            <h3>ðŸ”’ Safety Tips</h3>
            <ul>
              <li>Always verify the recipient's mobile number before sending</li>
              <li>Double-check the amount before confirming</li>
              <li>Never share your PIN with anyone</li>
              <li>Keep your PIN secret and secure</li>
              <li>Check your transaction history regularly</li>
            </ul>
          </div>
        `,
      },
      "paytm-recharge": {
        title: "Mobile Recharge on Paytm",
        content: `
          <div class="tutorial-steps">
            <h3>Step-by-Step Guide</h3>
            <div class="step">
              <div class="step-number">1</div>
              <div class="step-content">
                <h4>Open Paytm App</h4>
                <p>Launch the Paytm application on your phone.</p>
                <img src="https://seeklogo.com/images/P/paytm-logo-092D33ED90-seeklogo.com.png">
               
              </div>
            </div>
            <div class="step">
              <div class="step-number">2</div>
              <div class="step-content">
                <h4>Select Mobile Recharge</h4>
                <p>Tap on "Mobile Recharge" from the home screen options.</p>
                <img src="https://images.fonearena.com/blog/wp-content/uploads/2017/08/paytm-QR.jpg">
              </div>
            </div>
            <div class="step">
              <div class="step-number">3</div>
              <div class="step-content">
                <h4>Enter Mobile Number</h4>
                <p>Enter the mobile number you want to recharge and select the operator.</p>
               
              </div>
            </div>
            <div class="step">
              <div class="step-number">4</div>
              <div class="step-content">
                <h4>Choose Plan</h4>
                <p>Select a recharge plan from the available options or enter a custom amount.</p>
                <img src="https://images.moneycontrol.com/static-mcnews/2022/05/Recharge-Image-1-770x433.png">
              </div>
            </div>
            <div class="step">
              <div class="step-number">5</div>
              <div class="step-content">
                <h4>Make Payment</h4>
                <p>Choose payment method and complete the transaction with your Paytm PIN.</p>
                
              </div>
            </div>
          </div>
          <div class="tutorial-tips">
            <h3>ðŸ’¡ Recharge Tips</h3>
            <ul>
              <li>Check for cashback offers before recharging</li>
              <li>Set up auto-recharge for regular plans</li>
              <li>You can recharge any number, not just your own</li>
              <li>Keep receipts for reference</li>
            </ul>
          </div>
        `,
      },
      "paytm-bills": {
        title: "Paying Utility Bills on Paytm",
        content: `
          <div class="tutorial-steps">
            <h3>Step-by-Step Guide</h3>
            <div class="step">
              <div class="step-number">1</div>
              <div class="step-content">
                <h4>Open Paytm App</h4>
                <p>Launch the Paytm application on your phone.</p>
                <img src="https://seeklogo.com/images/P/paytm-logo-092D33ED90-seeklogo.com.png">
              </div>
            </div>
            <div class="step">
              <div class="step-number">2</div>
              <div class="step-content">
                <h4>Select Bill Payment</h4>
                <p>Tap on "Electricity", "Water", or other bill payment option.</p>
                <img src="https://wpblogassets.paytm.com/paytmblog/uploads/2023/07/UPI-Autopay_-Revolutioninzing-payments-for-customers-and-merchants-1-800x500.jpg">
              </div>
            </div>
            <div class="step">
              <div class="step-number">3</div>
              <div class="step-content">
                <h4>Enter Details</h4>
                <p>Select your provider and enter your customer/account number.</p>
                
              </div>
            </div>
            <div class="step">
              <div class="step-number">4</div>
              <div class="step-content">
                <h4>Verify Bill</h4>
                <p>Check the bill details and amount that appears.</p>
                
              </div>
            </div>
            <div class="step">
              <div class="step-number">5</div>
              <div class="step-content">
                <h4>Make Payment</h4>
                <p>Choose payment method and complete the transaction with your Paytm PIN.</p>
                
              </div>
            </div>
          </div>
          <div class="tutorial-tips">
            <h3>ðŸ’¡ Bill Payment Tips</h3>
            <ul>
              <li>Pay before due date to avoid late fees</li>
              <li>Check for cashback offers on bill payments</li>
              <li>Save payment receipts for your records</li>
              <li>Set up reminders for recurring bills</li>
            </ul>
          </div>
        `,
      },
      "maps-directions": {
        title: "Getting Directions on Google Maps",
        content: `
          <div class="tutorial-steps">
            <h3>Step-by-Step Guide</h3>
            <div class="step">
              <div class="step-number">1</div>
              <div class="step-content">
                <h4>Open Google Maps</h4>
                <p>Launch the Google Maps application on your phone.</p>
                <img src="https://images.seeklogo.com/logo-png/26/1/new-google-maps-icon-logo-png_seeklogo-268336.png ">
              </div>
            </div>
            <div class="step">
              <div class="step-number">2</div>
              <div class="step-content">
                <h4>Tap Directions</h4>
                <p>Tap the blue "Directions" button at the bottom.</p>
                <img src="https://i.insider.com/5d55a56621214c3e07681892?width=600&format=jpeg&auto=webp">
              </div>
            </div>
            <div class="step">
              <div class="step-number">3</div>
              <div class="step-content">
                <h4>Enter Destination</h4>
                <p>Type your destination in the "Choose destination" field.</p>
                
              </div>
            </div>
            <div class="step">
              <div class="step-number">4</div>
              <div class="step-content">
                <h4>Choose Route</h4>
                <p>Select your preferred route from the options provided.</p>
                <img src="https://b2b-contenthub.com/wp-content/uploads/2024/03/google-maps-android-glanceable-directions-100962964-large.webp?w=1019">
              </div>
            </div>
            <div class="step">
              <div class="step-number">5</div>
              <div class="step-content">
                <h4>Start Navigation</h4>
                <p>Tap "Start" to begin turn-by-turn navigation.</p>

              </div>
            </div>
          </div>
          <div class="tutorial-tips">
            <h3>ðŸ’¡ Navigation Tips</h3>
            <ul>
              <li>Download offline maps for areas with poor connectivity</li>
              <li>Use voice navigation for hands-free directions</li>
              <li>Check traffic conditions before starting your trip</li>
              <li>Add stops along your route if needed</li>
            </ul>
          </div>
        `,
      },
      "maps-nearby": {
        title: "Finding Nearby Places on Google Maps",
        content: `
          <div class="tutorial-steps">
            <h3>Step-by-Step Guide</h3>
            <div class="step">
              <div class="step-number">1</div>
              <div class="step-content">
                <h4>Open Google Maps</h4>
                <p>Launch the Google Maps application on your phone.</p>
                <img src="https://images.seeklogo.com/logo-png/26/1/new-google-maps-icon-logo-png_seeklogo-268336.png   ">
              </div>
            </div>
            <div class="step">
              <div class="step-number">2</div>
              <div class="step-content">
                <h4>Tap Explore</h4>
                <p>Tap the "Explore" tab at the bottom (may appear as a search bar).</p>
                <img src="https://i.gadgets360cdn.com/large/google_maps_redesigned_explore_tab_1562833317877.jpg">
              </div>
            </div>
            <div class="step">
              <div class="step-number">3</div>
              <div class="step-content">
                <h4>Search or Browse</h4>
                <p>Type what you're looking for (e.g., "restaurants") or browse categories.</p>
                
              </div>
            </div>
            <div class="step">
              <div class="step-number">4</div>
              <div class="step-content">
                <h4>Filter Results</h4>
                <p>Use filters to narrow by distance, rating, price, etc.</p>
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQeSEn0jO0uuR1Aa8L68Jz2OzJiH2cubvgHYg&s">
              </div>
            </div>
            <div class="step">
              <div class="step-number">5</div>
              <div class="step-content">
                <h4>View Details</h4>
                <p>Tap a place to see details, directions, reviews, and more.</p>
               
              </div>
            </div>
          </div>
          <div class="tutorial-tips">
            <h3>ðŸ’¡ Discovery Tips</h3>
            <ul>
              <li>Check business hours before visiting</li>
              <li>Read reviews to assess quality</li>
              <li>Look at photos from other customers</li>
              <li>Save favorite places for quick access later</li>
            </ul>
          </div>
        `,
      },
      "safety-scams": {
        title: "Protecting Yourself from Online Scams",
        content: `
          <div class="tutorial-steps">
            <h3>Step-by-Step Guide</h3>
            <div class="step">
              <div class="step-number">1</div>
              <div class="step-content">
                <h4>Recognize Common Scams</h4>
                <p>Learn to identify phishing emails, fake calls, and too-good-to-be-true offers.</p>
                <img src="https://cdn.internetadvisor.com/images/blogs/the-most-common-internet-scams/Most_Common_Types_of_Online_Scams.jpg">
              </div>
            </div>
            <div class="step">
              <div class="step-number">2</div>
              <div class="step-content">
                <h4>Verify Sources</h4>
                <p>Always check the sender's email/phone number and look for official websites.</p>
                
              </div>
            </div>
            <div class="step">
              <div class="step-number">3</div>
              <div class="step-content">
                <h4>Protect Personal Info</h4>
                <p>Never share passwords, OTPs, or sensitive information unexpectedly.</p>
                
              </div>
            </div>
            <div class="step">
              <div class="step-number">4</div>
              <div class="step-content">
                <h4>Use Security Features</h4>
                <p>Enable two-factor authentication on important accounts.</p>
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQmtScIugzX7m1wHrmWww2j-bXM4__Zoolxqw&s">
              </div>
            </div>
            <div class="step">
              <div class="step-number">5</div>
              <div class="step-content">
                <h4>Report Suspicious Activity</h4>
                <p>Know how to report scams to authorities and your bank if needed.</p>
                <img src="https://dxcompliance.com/wp-content/uploads/2020/03/Suspicious-Activity-Reporting-1-768x768.png">
              </div>
            </div>
          </div>
          <div class="tutorial-tips">
            <h3>ðŸ”’ Safety First</h3>
            <ul>
              <li>Banks never ask for passwords or OTPs</li>
              <li>If unsure, contact the organization through official channels</li>
              <li>Keep software updated for security patches</li>
              <li>Educate family members about common scams</li>
            </ul>
          </div>
        `,
      },
    };

    this.initializeTutorials();
  }

  initializeTutorials() {
    this.bindCategoryTabs();
    this.bindTutorialButtons();
    this.bindModalEvents();
  }

  bindCategoryTabs() {
    const categoryTabs = document.querySelectorAll(".category-tab");
    categoryTabs.forEach((tab) => {
      tab.addEventListener("click", () => {
        // Remove active class from all tabs
        categoryTabs.forEach((t) => t.classList.remove("active"));
        // Add active class to clicked tab
        tab.classList.add("active");

        // Filter tutorials
        const category = tab.dataset.category;
        this.filterTutorials(category);
      });
    });
  }

  filterTutorials(category) {
    const tutorialCards = document.querySelectorAll(".tutorial-card");

    tutorialCards.forEach((card) => {
      if (category === "all" || card.dataset.category === category) {
        card.classList.remove("hidden");
      } else {
        card.classList.add("hidden");
      }
    });
  }

  bindTutorialButtons() {
    const tutorialButtons = document.querySelectorAll(".tutorial-btn");
    tutorialButtons.forEach((button) => {
      button.addEventListener("click", (e) => {
        e.preventDefault();
        const tutorialId = button.dataset.tutorial;
        this.openTutorial(tutorialId);
      });
    });
  }

  bindModalEvents() {
    const modal = document.getElementById("tutorialModal");
    const closeBtn = document.querySelector(".tutorial-modal-close");

    if (closeBtn) {
      closeBtn.addEventListener("click", () => {
        this.closeTutorial();
      });
    }

    if (modal) {
      modal.addEventListener("click", (e) => {
        if (e.target === modal) {
          this.closeTutorial();
        }
      });
    }

    // Close modal with Escape key
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape") {
        this.closeTutorial();
      }
    });
  }

  openTutorial(tutorialId) {
    const tutorial = this.tutorials[tutorialId];
    if (!tutorial) {
      console.error("Tutorial not found:", tutorialId);
      return;
    }

    const modal = document.getElementById("tutorialModal");
    const title = document.getElementById("tutorialTitle");
    const content = document.getElementById("tutorialContent");

    if (modal && title && content) {
      title.textContent = tutorial.title;
      content.innerHTML = tutorial.content;
      modal.style.display = "block";
      document.body.style.overflow = "hidden";
    }
  }

  closeTutorial() {
    const modal = document.getElementById("tutorialModal");
    if (modal) {
      modal.style.display = "none";
      document.body.style.overflow = "auto";
    }
  }
}

// Initialize tutorial manager when DOM is loaded
document.addEventListener("DOMContentLoaded", () => {
  new TutorialManager();
});
